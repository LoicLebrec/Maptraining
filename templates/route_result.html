{% extends "base.html" %}

{% block title %}Parcours GÃ©nÃ©rÃ© - Maptraining{% endblock %}

{% block content %}
<h2>âœ… Parcours GÃ©nÃ©rÃ© avec SuccÃ¨s!</h2>
<p style="color: #666; margin-bottom: 30px;">
    Votre parcours d'entraÃ®nement personnalisÃ© pour <strong>{{ athlete_name }}</strong>
</p>

<div class="card">
    <h3>ğŸ“Š Statistiques du Parcours</h3>
    <div class="stats">
        <div class="stat-box">
            <div class="value">{{ metadata.total_distance }}</div>
            <div class="label">Distance (km)</div>
        </div>
        <div class="stat-box">
            <div class="value">{{ metadata.estimated_time }}</div>
            <div class="label">Temps estimÃ© (h)</div>
        </div>
        <div class="stat-box">
            <div class="value">{{ metadata.difficulty|capitalize }}</div>
            <div class="label">DifficultÃ©</div>
        </div>
        <div class="stat-box">
            <div class="value">{{ metadata.num_points }}</div>
            <div class="label">Points GPS</div>
        </div>
    </div>
</div>

{% if map_html %}
<div class="card">
    <h3>ğŸ—ºï¸ Visualisation du Parcours</h3>
    <div style="margin-top: 15px;">
        {{ map_html|safe }}
    </div>
</div>
{% endif %}

<div class="card">
    <h3>ğŸ’¾ TÃ©lÃ©charger le Fichier GPX</h3>
    <p style="margin-bottom: 20px;">
        TÃ©lÃ©chargez votre parcours au format GPX pour l'utiliser avec votre GPS
        ou vos applications favorites (Garmin, Strava, Komoot, etc.)
    </p>
    <a href="{{ url_for('download_file', filename=filename) }}" class="btn" download>
        ğŸ“¥ TÃ©lÃ©charger {{ filename }}
    </a>
</div>

<div class="card" style="background: #d1ecf1;">
    <h3>ğŸ¯ Prochaines Ã‰tapes</h3>
    <ol style="margin-left: 30px; line-height: 2;">
        <li>TÃ©lÃ©chargez le fichier GPX ci-dessus</li>
        <li>TransfÃ©rez-le sur votre GPS ou application de cyclisme</li>
        <li>Suivez le parcours lors de votre sortie</li>
        <li>AprÃ¨s l'entraÃ®nement, revenez pour analyser vos performances!</li>
    </ol>
</div>

<div style="text-align: center; margin-top: 30px;">
    <a href="{{ url_for('generate_route') }}" class="btn">GÃ©nÃ©rer un Nouveau Parcours</a>
    <a href="{{ url_for('analyze_training') }}" class="btn btn-secondary" style="margin-left: 10px;">
        Analyser un EntraÃ®nement
    </a>
</div>
{% endblock %}
